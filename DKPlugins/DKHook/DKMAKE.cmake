IF(USE_DKCef)
	DKDEPEND(DKCef)
ENDIF()
generateCmake(DKHook)
DKASSETS(DKHook)

## hookdll windows
IF(WIN)
	DKAPPEND_CMAKE("\n\n")
	DKAPPEND_CMAKE("FILE(GLOB hookdll_SRC \n")
	DKAPPEND_CMAKE("	${DKPLUGINS}/DKHook/hookdll/*.cpp \n")
	DKAPPEND_CMAKE(") \n")
	DKAPPEND_CMAKE("ADD_LIBRARY(hookdll SHARED \${hookdll_SRC}) \n")
	DKAPPEND_CMAKE("SET_TARGET_PROPERTIES(hookdll PROPERTIES LINK_FLAGS_DEBUG \"/NODEFAULTLIB:libc.lib\" LINK_FLAGS \"/NODEFAULTLIB:libc.lib\") \n")
	DKAPPEND_CMAKE("SET_TARGET_PROPERTIES(hookdll PROPERTIES DEFINE_SYMBOL \"DKHook\") \n")
	DKAPPEND_CMAKE("SET_TARGET_PROPERTIES(hookdll PROPERTIES LINKER_LANGUAGE CPP) \n")
ENDIF()

IF(WIN_32)
	DKCOPY(${DKPLUGINS}/DKHook/win32/Release/hookdll.dll ${DKPROJECT}/assets/DKHook TRUE)
ENDIF()

IF(WIN_64)
	DKCOPY(${DKPLUGINS}/DKHook/win64/Release/hookdll.dll ${DKPROJECT}/assets/DKHook TRUE)
ENDIF()
