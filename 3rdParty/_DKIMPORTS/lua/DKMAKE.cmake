# https://github.com/lua/lua.git
# https://www.lua.org/ftp/lua-5.4.3.tar.gz
# https://github.com/lubgr/lua-cmake.git


### IMPORT ###
dk_import(https://github.com/lua/lua.git PATCH)


### LINK ###
dk_include				(${LUA}/include							LUA_INCLUDE_DIR)
dk_include				(${LUA}/${OS}							LUA_INCLUDE_DIR2)
DEBUG_include			(${LUA}/${OS}/${DEBUG_DIR}/include		LUA_INCLUDE_DIR2)
RELEASE_include			(${LUA}/${OS}/${RELEASE_DIR}/include	LUA_INCLUDE_DIR2)

UNIX_dk_libDebug		(${LUA}/${OS}/${DEBUG_DIR}/liblua.a		LUA_DEBUG_LIBRARY)
UNIX_dk_libRelease		(${LUA}/${OS}/${RELEASE_DIR}/liblua.a	LUA_RELEASE_LIBRARY)
WIN_dk_libDebug			(${LUA}/${OS}/${DEBUG_DIR}/lua.lib		LUA_DEBUG_LIBRARY)
WIN_dk_libRelease		(${LUA}/${OS}/${RELEASE_DIR}/lua.lib	LUA_RELEASE_LIBRARY)


### 3RDPARTY LINK ###
ANDROID_DEBUG_dk_set		(LUA_CMAKE -DLUA_INCLUDE_DIR=${LUA} 								-DLUA_LIBRARIES=${LUA_DEBUG_LIBRARY})
ANDROID_RELEASE_dk_set		(LUA_CMAKE -DLUA_INCLUDE_DIR=${LUA} 								-DLUA_LIBRARIES=${LUA_RELEASE_LIBRARY})
APPLE_DEBUG_dk_set			(LUA_CMAKE -DLUA_INCLUDE_DIR=${LUA}									-DLUA_LIBRARIES${LUA_DEBUG_LIBRARY})
APPLE_RELEASE_dk_set		(LUA_CMAKE -DLUA_INCLUDE_DIR=${LUA} 								-DLUA_LIBRARIES=${LUA_RELEASE_LIBRARY})
EMSCRIPTEN_DEBUG_dk_set		(LUA_CMAKE -DLUA_INCLUDE_DIR=${LUA}/${OS}/${DEBUG_DIR}/include 		-DLUA_LIBRARIES=${LUA_DEBUG_LIBRARY})
EMSCRIPTEN_RELEASE_dk_set	(LUA_CMAKE -DLUA_INCLUDE_DIR=${LUA}/${OS}/${RELEASE_DIR}/include 	-DLUA_LIBRARIES=${LUA_RELEASE_LIBRARY})
LINUX_DEBUG_dk_set			(LUA_CMAKE -DLUA_INCLUDE_DIR=${LUA}/${OS}/${DEBUG_DIR}/include 		-DLUA_LIBRARIES=${LUA_DEBUG_LIBRARY})
LINUX_RELEASE_dk_set		(LUA_CMAKE -DLUA_INCLUDE_DIR=${LUA}/${OS}/${RELEASE_DIR}/include 	-DLUA_LIBRARIES=${LUA_RELEASE_LIBRARY})
RASPBERRY_DEBUG_dk_set		(LUA_CMAKE -DLUA_INCLUDE_DIR=${LUA}/${OS}/${DEBUG_DIR}/include 		-DLUA_LIBRARIES=${LUA_DEBUG_LIBRARY})
RASPBERRY_RELEASE_dk_set	(LUA_CMAKE -DLUA_INCLUDE_DIR=${LUA}/${OS}/${RELEASE_DIR}/include 	-DLUA_LIBRARIES=${LUA_RELEASE_LIBRARY})
WIN_DEBUG_dk_set			(LUA_CMAKE -DLUA_INCLUDE_DIR=${LUA} 								-DLUA_LIBRARIES=${LUA_DEBUG_LIBRARY})
WIN_RELEASE_dk_set			(LUA_CMAKE -DLUA_INCLUDE_DIR=${LUA} 								-DLUA_LIBRARIES=${LUA_RELEASE_LIBRARY})


### GENERATE ###
dk_queueCommand(${DKCMAKE_BUILD} -DBUILD_SHARED_LIBS=OFF ${LUA})



### COMPILE ###
dk_build(${LUA} lua)
