#!/usr/bin/cmake -P
include(${DKCMAKE_FUNCTIONS_DIR}/DK.cmake)
dk_load(dk_builder)
# https://github.com/pocoproject/poco.git


### DEPENDS ###
dk_depend(iphlpapi)
dk_depend(ws2_32)


### IMPORT ###
#dk_import(https://github.com/pocoproject/poco.git)
dk_import(https://github.com/pocoproject/poco/archive/refs/heads/main.zip)



### EMSCRIPTEN FIXES ###
dk_fileReplace(${POCO}/Foundation/src/Thread_POSIX.cpp "#if POCO_OS == POCO_OS_LINUX" "#if (POCO_OS == POCO_OS_LINUX) && !defined(EMSCRIPTEN)")
dk_fileReplace(${POCO}/Net/src/PollSet.cpp "#if defined(POCO_HAVE_FD_EPOLL)" "#if defined(POCO_HAVE_FD_EPOLL) && !defined(EMSCRIPTEN)")
dk_fileReplace(${POCO}/Net/src/SocketImpl.cpp "#if defined(POCO_HAVE_FD_EPOLL)" "#if defined(POCO_HAVE_FD_EPOLL) && !defined(EMSCRIPTEN)")


### LINK ###
dk_include(${POCO}/include)
dk_include(${POCO}/${triple})
dk_include(${POCO}/Net/include)
dk_include(${POCO}/Foundation/include)
dk_include(${POCO}/Util/include)


dk_enable(ALL_LIBS)
if(ALL_LIBS)
	dk_enable(PocoActiveRecord)
	dk_enable(PocoData)
	dk_enable(PocoDataODBC)
	dk_enable(PocoDataSQLite)
	dk_enable(PocoEncodings)
	dk_enable(PocoFoundation)
	dk_enable(PocoJSON)
	dk_enable(PocoMongoDB)
	dk_enable(PocoNet)
	dk_enable(PocoPrometheus)
	dk_enable(PocoRedis)
	dk_enable(PocoUtil)
	dk_enable(PocoXML)
	dk_enable(PocoZip)
endif()


if(PocoActiveRecord)
	ANDROID_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoActiveRecordd.a)
	ANDROID_dk_libRelease	(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoActiveRecord.a)
	APPLE_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/libPocoActiveRecordd.a)
	APPLE_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/libPocoActiveRecord.a)
	EMSCRIPTEN_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoActiveRecordd.a)
	EMSCRIPTEN_dk_libRelease(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoActiveRecord.a)
	LINUX_dk_libDebug		(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoActiveRecordd.a)
	LINUX_dk_libRelease		(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoActiveRecord.a)
	RASPBERRY_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoActiveRecordd.a)
	RASPBERRY_dk_libRelease	(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoActiveRecord.a)
	WIN_dk_libDebug			(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoActiveRecordmtd.lib)
	WIN_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoActiveRecordmt.lib)
endif()

if(PocoData)
	ANDROID_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoDatad.a)
	ANDROID_dk_libRelease	(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoData.a)
	APPLE_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/libPocoDatad.a)
	APPLE_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/libPocoData.a)
	EMSCRIPTEN_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoDatad.a)
	EMSCRIPTEN_dk_libRelease(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoData.a)
	LINUX_dk_libDebug		(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoDatad.a)
	LINUX_dk_libRelease		(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoData.a)
	RASPBERRY_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoDatad.a)
	RASPBERRY_dk_libRelease	(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoData.a)
	WIN_dk_libDebug			(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoDatamtd.lib)
	WIN_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoDatamt.lib)
endif()

if(PocoDataODBC)
	ANDROID_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoDataODBCd.a)
	ANDROID_dk_libRelease	(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoDataODBC.a)
	APPLE_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/libPocoDataODBCd.a)
	APPLE_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/libPocoDataODBC.a)
	EMSCRIPTEN_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoDataODBCd.a)
	EMSCRIPTEN_dk_libRelease(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoDataODBC.a)
	LINUX_dk_libDebug		(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoDataODBCd.a)
	LINUX_dk_libRelease		(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoDataODBC.a)
	RASPBERRY_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoDataODBCd.a)
	RASPBERRY_dk_libRelease	(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoDataODBC.a)
	WIN_dk_libDebug			(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoDataODBCmtd.lib)
	WIN_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoDataODBCmt.lib)
endif()

if(PocoDataSQLite)
	ANDROID_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoDataSQLited.a)
	ANDROID_dk_libRelease	(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoDataSQLite.a)
	APPLE_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/libPocoDataSQLited.a)
	APPLE_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/libPocoDataSQLite.a)
	EMSCRIPTEN_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoDataSQLited.a)
	EMSCRIPTEN_dk_libRelease(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoDataSQLite.a)
	LINUX_dk_libDebug		(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoDataSQLited.a)
	LINUX_dk_libRelease		(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoDataSQLite.a)
	RASPBERRY_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoDataSQLited.a)
	RASPBERRY_dk_libRelease	(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoDataSQLite.a)
	WIN_dk_libDebug			(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoDataSQLitemtd.lib)
	WIN_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoDataSQLitemt.lib)
endif()

if(PocoEncodings)
	ANDROID_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoEncodingsd.a)
	ANDROID_dk_libRelease	(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoEncodings.a)
	APPLE_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/libPocoEncodingsd.a)
	APPLE_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/libPocoEncodings.a)
	EMSCRIPTEN_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoEncodingsd.a)
	EMSCRIPTEN_dk_libRelease(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoEncodings.a)
	LINUX_dk_libDebug		(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoEncodingsd.a)
	LINUX_dk_libRelease		(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoEncodings.a)
	RASPBERRY_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoEncodingsd.a)
	RASPBERRY_dk_libRelease	(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoEncodings.a)
	WIN_dk_libDebug			(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoEncodingsmtd.lib)
	WIN_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoEncodingsmt.lib)
endif()

if(PocoFoundation)
	ANDROID_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoFoundationd.a)
	ANDROID_dk_libRelease	(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoFoundation.a)
	APPLE_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/libPocoFoundationd.a)
	APPLE_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/libPocoFoundation.a)
	EMSCRIPTEN_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoFoundationd.a)
	EMSCRIPTEN_dk_libRelease(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoFoundation.a)
	LINUX_dk_libDebug		(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoFoundationd.a)
	LINUX_dk_libRelease		(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoFoundation.a)
	RASPBERRY_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoFoundationd.a)
	RASPBERRY_dk_libRelease	(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoFoundation.a)
	WIN_dk_libDebug			(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoFoundationmtd.lib)
	WIN_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoFoundationmt.lib)
endif()

if(PocoJSON)
	ANDROID_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoJSONd.a)
	ANDROID_dk_libRelease	(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoJSON.a)
	APPLE_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/libPocoJSONd.a)
	APPLE_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/libPocoJSON.a)
	EMSCRIPTEN_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoJSONd.a)
	EMSCRIPTEN_dk_libRelease(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoJSON.a)
	LINUX_dk_libDebug		(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoJSONd.a)
	LINUX_dk_libRelease		(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoJSON.a)
	RASPBERRY_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoJSONd.a)
	RASPBERRY_dk_libRelease	(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoJSON.a)
	WIN_dk_libDebug			(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoJSONmtd.lib)
	WIN_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoJSONmt.lib)
endif()

if(PocoMongoDB)
	ANDROID_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoMongoDBd.a)
	ANDROID_dk_libRelease	(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoMongoDB.a)
	APPLE_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/libPocoMongoDBd.a)
	APPLE_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/libPocoMongoDB.a)
	EMSCRIPTEN_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoMongoDBd.a)
	EMSCRIPTEN_dk_libRelease(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoMongoDB.a)
	LINUX_dk_libDebug		(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoMongoDBd.a)
	LINUX_dk_libRelease		(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoMongoDB.a)
	RASPBERRY_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoMongoDBd.a)
	RASPBERRY_dk_libRelease	(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoMongoDB.a)
	WIN_dk_libDebug			(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoMongoDBmtd.lib)
	WIN_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoMongoDBmt.lib)
endif()

if(PocoNet)
	ANDROID_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoNetd.a)
	ANDROID_dk_libRelease	(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoNet.a)
	APPLE_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/libPocoNetd.a)
	APPLE_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/libPocoNet.a)
	EMSCRIPTEN_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoNetd.a)
	EMSCRIPTEN_dk_libRelease(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoNet.a)
	LINUX_dk_libDebug		(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoNetd.a)
	LINUX_dk_libRelease		(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoNet.a)
	RASPBERRY_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoNetd.a)
	RASPBERRY_dk_libRelease	(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoNet.a)
	WIN_dk_libDebug			(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoNetmtd.lib)
	WIN_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoNetmt.lib)
endif()

if(PocoPrometheus)
	ANDROID_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoPrometheusd.a)
	ANDROID_dk_libRelease	(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoPrometheus.a)
	APPLE_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/libPocoPrometheusd.a)
	APPLE_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/libPocoPrometheus.a)
	EMSCRIPTEN_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoPrometheusd.a)
	EMSCRIPTEN_dk_libRelease(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoPrometheus.a)
	LINUX_dk_libDebug		(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoPrometheusd.a)
	LINUX_dk_libRelease		(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoPrometheus.a)
	RASPBERRY_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoPrometheusd.a)
	RASPBERRY_dk_libRelease	(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoPrometheus.a)
	WIN_dk_libDebug			(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoPrometheusmtd.lib)
	WIN_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoPrometheusmt.lib)
endif()

if(PocoRedis)
	ANDROID_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoRedisd.a)
	ANDROID_dk_libRelease	(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoRedis.a)
	APPLE_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/libPocoRedisd.a)
	APPLE_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/libPocoRedis.a)
	EMSCRIPTEN_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoRedisd.a)
	EMSCRIPTEN_dk_libRelease(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoRedis.a)
	LINUX_dk_libDebug		(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoRedisd.a)
	LINUX_dk_libRelease		(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoRedis.a)
	RASPBERRY_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoRedisd.a)
	RASPBERRY_dk_libRelease	(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoRedis.a)
	WIN_dk_libDebug			(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoRedismtd.lib)
	WIN_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoRedismt.lib)
endif()

if(PocoUtil)
	ANDROID_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoUtild.a)
	ANDROID_dk_libRelease	(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoUtil.a)
	APPLE_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/libPocoUtild.a)
	APPLE_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/libPocoUtil.a)
	EMSCRIPTEN_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoUtild.a)
	EMSCRIPTEN_dk_libRelease(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoUtil.a)
	LINUX_dk_libDebug		(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoUtild.a)
	LINUX_dk_libRelease		(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoUtil.a)
	RASPBERRY_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoUtild.a)
	RASPBERRY_dk_libRelease	(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoUtil.a)
	WIN_dk_libDebug			(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoUtilmtd.lib)
	WIN_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoUtilmt.lib)
endif()

if(PocoXML)
	ANDROID_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoXMLd.a)
	ANDROID_dk_libRelease	(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoXML.a)
	APPLE_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/libPocoXMLd.a)
	APPLE_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/libPocoXML.a)
	EMSCRIPTEN_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoXMLd.a)
	EMSCRIPTEN_dk_libRelease(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoXML.a)
	LINUX_dk_libDebug		(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoXMLd.a)
	LINUX_dk_libRelease		(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoXML.a)
	RASPBERRY_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoXMLd.a)
	RASPBERRY_dk_libRelease	(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoXML.a)
	WIN_dk_libDebug			(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoXMLmtd.lib)
	WIN_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoXMLmt.lib)
endif()

if(PocoZip)
	ANDROID_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoZipd.a)
	ANDROID_dk_libRelease	(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoZip.a)
	APPLE_dk_libDebug		(${POCO}/${triple}/lib/${DEBUG_DIR}/libPocoZipd.a)
	APPLE_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/libPocoZip.a)
	EMSCRIPTEN_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoZipd.a)
	EMSCRIPTEN_dk_libRelease(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoZip.a)
	LINUX_dk_libDebug		(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoZipd.a)
	LINUX_dk_libRelease		(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoZip.a)
	RASPBERRY_dk_libDebug	(${POCO}/${triple}/${DEBUG_DIR}/lib/libPocoZipd.a)
	RASPBERRY_dk_libRelease	(${POCO}/${triple}/${RELEASE_DIR}/lib/libPocoZip.a)
	WIN_dk_libDebug			(${POCO}/${triple}/lib/${DEBUG_DIR}/PocoZipmtd.lib)
	WIN_dk_libRelease		(${POCO}/${triple}/lib/${RELEASE_DIR}/PocoZipmt.lib)
endif()


### GENERATE ###
if(EMSCRIPTEN)
	dk_configure(${POCO} -DPOCO_MT=ON "-DCMAKE_CXX_FLAGS=-DEMSCRIPTEN -DPOCO_NO_INOTIFY -DPOCO_NO_LINUX_IF_PACKET_H")
else()
	dk_configure(${POCO} -DPOCO_MT=ON)
endif()


### COMPILE ###
dk_build(${POCO})
#if(PocoActiveRecord)
#	dk_build(${POCO} PocoActiveRecord)
#endif()
#if(PocoData)
#	dk_build(${POCO} PocoData)
#endif()
#if(PocoDataODBC)
#	dk_build(${POCO} PocoDataODBC)
#endif()
#if(PocoDataSQLite)
#	dk_build(${POCO} PocoDataSQLite)
#endif()
#if(PocoEncodings)
#	dk_build(${POCO} PocoEncodings)
#endif()
#if(PocoFoundation)
#	dk_build(${POCO} PocoFoundation)
#endif()
#if(PocoJSON)
#	dk_build(${POCO} PocoJSON)
#endif()
#if(PocoMongoDB)
#	dk_build(${POCO} PocoMongoDB)
#endif()
#if(PocoNet)
#	dk_build(${POCO} PocoNet)
#endif()
#if(PocoPrometheus)
#	dk_build(${POCO} PocoPrometheus)
#endif()
#if(PocoRedis)
#	dk_build(${POCO} PocoRedis)
#endif()
#if(PocoUtil)
#	dk_build(${POCO} PocoUtil)
#endif()
#if(PocoXML)
#	dk_build(${POCO} PocoXML)
#endif()
#if(PocoZip)
#	dk_build(${POCO} PocoZip)
#endif()
