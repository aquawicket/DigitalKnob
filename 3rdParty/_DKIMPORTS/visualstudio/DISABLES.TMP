if(NOT WIN_HOST)
	dk_undepend(visualstudio)
	dk_return()
endif()
dk_set(VISUALSTUDIO_BUILD 17)
dk_set(VISUALSTUDIO_VERSION 2022)
dk_set(VISUALSTUDIO_PROGRAM_FILES "Program Files")
dk_set(VISUALSTUDIO_DL https://aka.ms/vs/${VISUALSTUDIO_BUILD}/release/vs_community.exe)
dk_set(VISUALSTUDIO "C:/${VISUALSTUDIO_PROGRAM_FILES}/Microsoft Visual Studio/${VISUALSTUDIO_VERSION}/Community")
dk_set(VISUALSTUDIO_CL "C:/Program Files/Microsoft Visual Studio/2022/Community/VC/Tools/MSVC/14.34.31933/bin/Hostx64/x86/cl.exe")
dk_set(MSBUILD "${VISUALSTUDIO}/MSBuild/Current/Bin/MSBuild.exe")
dk_set(DUMPBIN "${VISUALSTUDIO}/VC/Tools/MSVC/14.30.30705/bin/Hostx86/x86/dumpbin.exe")
dk_set(VS_GENERATOR "Visual Studio ${VISUALSTUDIO_BUILD} ${VISUALSTUDIO_VERSION}")
if(EXISTS ${VISUALSTUDIO})
elseif(EXISTS "C:/Program Files (x86)/Microsoft Visual Studio/2019/Community") #fall back to older version
	dk_set(VISUALSTUDIO "C:/Program Files (x86)/Microsoft Visual Studio/2019/Community")
	dk_set(MSBUILD "${VISUALSTUDIO}/MSBuild/Current/Bin/MSBuild.exe")
	dk_set(VS_GENERATOR "Visual Studio 16 2019")
else()  #install
	if(EXISTS ${DKDOWNLOAD}/VisualStudio/vs_setup.exe)
	else()
	endif()
ENDIF()
if(ANDROID)
	if(NOT EXISTS "C:/Program Files/Microsoft Visual Studio/2022/Community/MSBuild/Microsoft/MDD/Android/V150/Android.Common.targets")
	else()
	endif()
endif()
