# https://github.com/libuv/libuv


#DKIMPORT(https://github.com/libuv/libuv)
DKIMPORT(https://github.com/libuv/libuv/archive/2bc22c40eb68f3b38d1ae3ea68ef2f180cbe9fef.zip)
#DKSET(LIBUV_MAJOR 1)
#DKSET(LIBUV_MINOR 42)
#DKSET(LIBUV_BUILD 0)
#DKSET(LIBUV_VERSION ${LIBUV_MAJOR}.${LIBUV_MINOR}.${LIBUV_BUILD})
#DKSET(LIBUV_NAME libuv-${LIBUV_VERSION})
#DKSET(LIBUV_DL https://github.com/libuv/libuv/archive/refs/tags/v1.42.0.zip)
#DKSET(LIBUV ${3RDPARTY}/${LIBUV_NAME})
#DKINSTALL(${LIBUV_DL} libuv ${LIBUV})



### DKPLUGINS LINK ###
WIN_DKLIB(Iphlpapi.lib)
WIN_DKLIB(Userenv.lib)
DKINCLUDE(${LIBUV}/include)
DKINCLUDE(${LIBUV}/${OS})
WIN_DEBUG_DKLIB(${LIBUV}/${OS}/${DEBUG_DIR}/uv_a.lib)
WIN_RELEASE_DKLIB(${LIBUV}/${OS}/${RELEASE_DIR}/uv_a.lib)
MAC_DEBUG_DKLIB(${LIBUV}/${OS}/lib/${DEBUG_DIR}/libuv_a.a)
MAC_RELEASE_DKLIB(${LIBUV}/${OS}/lib/${RELEASE_DIR}/libuv_a.a)
IOSSIM_DEBUG_DKLIB(${LIBUV}/${OS}/${DEBUG_DIR}/lib/.libs/libuv_a.a)
IOSSIM_RELEASE_DKLIB(${LIBUV}/${OS}/${RELEASE_DIR}/lib/.libs/libuv_a.a)
LINUX_DEBUG_DKLIB(${LIBUV}/${OS}/${DEBUG_DIR}/libuv_a.a)
LINUX_RELEASE_DKLIB(${LIBUV}/${OS}/${RELEASE_DIR}/libuv_a.a)
RASPBERRY_DEBUG_DKLIB(${LIBUV}/${OS}/${DEBUG_DIR}/libuv_a.a)
RASPBERRY_RELEASE_DKLIB(${LIBUV}/${OS}/${RELEASE_DIR}/libuv_a.a)
## ANDROID_DEBUG_DKLIB(${LIBUV}/${OS}/${DEBUG_DIR}/obj/local/armeabi-v7a/libuv_a.a)
## ANDROID_RELEASE_DKLIB(${LIBUV}/${OS}/${RELEASE_DIR}/obj/local/armeabi-v7a/libuv_a.a)
ANDROID_DEBUG_DKLIB(${LIBUV}/${OS}/${DEBUG_DIR}/libuv_a.a)
ANDROID_RELEASE_DKLIB(${LIBUV}/${OS}/${RELEASE_DIR}/libuv_a.a)



### 3RDPARTY LINK ###
WIN_DKSET(LIBUV_CMAKE -DLIBUV_INCLUDE_DIR=${LIBUV} -DLIBUV_LIBRARY=${LIBUV}/${OS}/${RELEASE_DIR}/uv_a.lib)
APPLE_DKSET(LIBUV_CMAKE -DLIBUV_INCLUDE_DIR=${LIBUV} -DLIBUV_LIBRARY=${LIBUV}/${OS}/${RELEASE_DIR}/uv_a.a)
LINUX_DKSET(LIBUV_CMAKE -DLIBUV_INCLUDE_DIR=${LIBUV} -DLIBUV_LIBRARY=${LIBUV}/${OS}/${RELEASE_DIR}/uv_a.a)
RASPBERRY_DKSET(LIBUV_CMAKE -DLIBUV_INCLUDE_DIR=${LIBUV} -DLIBUV_LIBRARY=${LIBUV}/${OS}/${RELEASE_DIR}/uv_a.a)
ANDROID_DKSET(LIBUV_CMAKE -DLIBUV_INCLUDE_DIR=${LIBUV} -DLIBUV_LIBRARY=${LIBUV}/${OS}/${RELEASE_DIR}/uv_a.a)



### COMPILE ###
WIN_DKSETPATH(${LIBUV}/${OS})
WIN32_DKQCOMMAND(${DKCMAKE_BUILD} ${LIBUV})
WIN64_DKQCOMMAND(${DKCMAKE_BUILD} ${LIBUV})
WIN_VS(${LIBUV_NAME} libuv.sln uv_a)


MAC_DKSETPATH(${LIBUV}/${OS})
MAC64_DKQCOMMAND(${DKCMAKE_BUILD} ${LIBUV})
MAC_XCODE(${LIBUV_NAME} uv_a)


IOS_DKSETPATH(${LIBUV}/${OS})
IOS64_DKQCOMMAND(${DKCMAKE_BUILD} ${LIBUV})
IOS_XCODE(${LIBUV_NAME} uv_a)


IOSSIM_DKSETPATH(${LIBUV}/${OS})
IOSSIM64_DKQCOMMAND(${DKCMAKE_BUILD} ${LIBUV})
IOSSIM_XCODE(${LIBUV_NAME} uv_a)


LINUX_DEBUG_DKSETPATH(${LIBUV}/${OS}/${DEBUG_DIR})
LINUX_DEBUG_DKQCOMMAND(${DKCMAKE_BUILD} ${LIBUV})
LINUX_DEBUG_DKQCOMMAND(make uv_a)

LINUX_RELEASE_DKSETPATH(${LIBUV}/${OS}/${RELEASE_DIR})
LINUX_RELEASE_DKQCOMMAND(${DKCMAKE_BUILD} ${LIBUV})
LINUX_RELEASE_DKQCOMMAND(make uv_a)


RASPBERRY_DEBUG_DKSETPATH(${LIBUV}/${OS}/${DEBUG_DIR})
RASPBERRY_DEBUG_DKQCOMMAND(${DKCMAKE_BUILD} ${LIBUV})
RASPBERRY_DEBUG_DKQCOMMAND(make uv_a)

RASPBERRY_RELEASE_DKSETPATH(${LIBUV}/${OS}/${RELEASE_DIR})
RASPBERRY_RELEASE_DKQCOMMAND(${DKCMAKE_BUILD} ${LIBUV})
RASPBERRY_RELEASE_DKQCOMMAND(make uv_a)


## ANDROID_NDK(${LIBUV_NAME})
ANDROID_DKSETPATH(${LIBUV}/${OS})
ANDROID32_DKQCOMMAND(${DKCMAKE_BUILD} ${LIBUV})
ANDROID64_DKQCOMMAND(${DKCMAKE_BUILD} ${LIBUV})
ANDROID_VS(${LIBUV_NAME} libuv.sln uv_a)