DKDEPEND(leptonica)

### VERSION ###
DKSET(TESSERACT_VERSION 3.05)
DKSET(TESSERACT_NAME tesseract-${TESSERACT_VERSION})
DKSET(TESSERACT ${3RDPARTY}/${TESSERACT_NAME})


### INSTALL ###
## DKINSTALL(www.internet.com/${TESSERACT_NAME}.zip ${TESSERACT_NAME})


### LINK ###
DKINCLUDE(${TESSERACT})
DKINCLUDE(${TESSERACT}/ccutil)
DKINCLUDE(${TESSERACT}/ccstruct)
DKINCLUDE(${TESSERACT}/ccmain)
WIN_DEBUG_LIB(${TESSERACT}/${OS}/${DEBUG_DIR}/tesseract305d.lib)
WIN_RELEASE_LIB(${TESSERACT}/${OS}/${RELEASE_DIR}/tesseract305.lib)
APPLE_DEBUG_LIB(${TESSERACT}/${OS}/${DEBUG_DIR}/liblibtesseract.a)
APPLE_RELEASE_LIB(${TESSERACT}/${OS}/${RELEASE_DIR}/liblibtesseract.a)
LINUX_DEBUG_LIB(${TESSERACT}/${OS}/${DEBUG_DIR}/liblibtesseract.a)
LINUX_RELEASE_LIB(${TESSERACT}/${OS}/${RELEASE_DIR}/liblibtesseract.a)
ANDROID_DEBUG_LIB(${TESSERACT}/${OS}/${DEBUG_DIR}/obj/local/armeabi-v7a/libtesseract.a)
ANDROID_RELEASE_LIB(${TESSERACT}/${OS}/${RELEASE_DIR}/obj/local/armeabi-v7a/libtesseract.a)


### COMPILE ###
WIN_PATH(${TESSERACT}/${OS})
WIN32_COMMAND(${DKCMAKE_WIN32} -DBUILD_TRAINING_TOOLS=OFF -DLeptonica_DIR=${LEPTONICA}/${OS} -DSTATIC=ON ${TESSERACT})
WIN64_COMMAND(${DKCMAKE_WIN64} -DBUILD_TRAINING_TOOLS=OFF -DLeptonica_DIR=${LEPTONICA}/${OS} -DSTATIC=ON ${TESSERACT})
WIN_VS(${TESSERACT_NAME} tesseract.sln libtesseract)


MAC_PATH(${TESSERACT}/${OS})
MAC64_COMMAND(${DKCMAKE_MAC64} -DBUILD_TRAINING_TOOLS=OFF -DLeptonica_DIR=${LEPTONICA}/${OS} -DSTATIC=ON ${TESSERACT})
MAC_XCODE_RELEASE(${TESSERACT_NAME} libtesseract)

IOS_PATH(${TESSERACT}/${OS})
IOS64_COMMAND(${DKCMAKE_IOS64} -DBUILD_TRAINING_TOOLS=OFF -DLeptonica_DIR=${LEPTONICA}/${OS} -DSTATIC=ON ${TESSERACT})
IOS_XCODE(${TESSERACT_NAME} libtesseract)

IOSSIM_PATH(${TESSERACT}/${OS})
IOSSIM64_COMMAND(${DKCMAKE_IOSSIM64} -DBUILD_TRAINING_TOOLS=OFF -DLeptonica_DIR=${LEPTONICA}/${OS} -DSTATIC=ON ${TESSERACT})
IOSSIM_XCODE_RELEASE(${TESSERACT_NAME} libtesseract)

LINUX_DEBUG_PATH(${TESSERACT}/${OS}/Debug)
LINUX_DEBUG_COMMAND(${CMAKE_COMMAND} -G "Unix Makefiles" "-DCMAKE_CXX_FLAGS=-DGRAPHICS_DISABLED" -DCMAKE_BUILD_TYPE=DEBUG -DBUILD_TRAINING_TOOLS=OFF -DLeptonica_DIR=${LEPTONICA}/${OS}/${RELEASE_DIR} -DSTATIC=ON ${TESSERACT})
LINUX_DEBUG_COMMAND(make libtesseract)

LINUX_RELEASE_PATH(${TESSERACT}/${OS}/${RELEASE_DIR})
LINUX_RELEASE_COMMAND(${CMAKE_COMMAND} -G "Unix Makefiles" "-DCMAKE_CXX_FLAGS=-DGRAPHICS_DISABLED" -DCMAKE_BUILD_TYPE=RELEASE -DBUILD_TRAINING_TOOLS=OFF -DLeptonica_DIR=${LEPTONICA}/${OS}/${RELEASE_DIR} -DSTATIC=ON ${TESSERACT})
LINUX_RELEASE_COMMAND(make libtesseract)

ANDROID_NDK(${TESSERACT_NAME})