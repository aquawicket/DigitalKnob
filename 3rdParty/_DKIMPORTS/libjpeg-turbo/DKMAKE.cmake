# https://github.com/libjpeg-turbo/libjpeg-turbo
# https://libjpeg-turbo.org/
# For ANDROID - https://github.com/DeviceFarmer/android-libjpeg-turbo
# https://sourceforge.net/projects/libjpeg-turbo/files/2.1.1/libjpeg-turbo-2.1.1.tar.gz/download


### IMPORT ###
#dk_import(https://sourceforge.net/projects/libjpeg-turbo/files/2.1.1/libjpeg-turbo-2.1.1.tar.gz ${3RDPARTY}/libjpeg-turbo-2.1.1)
dk_import(https://github.com/libjpeg-turbo/libjpeg-turbo.git BRANCH main)


### LINK ###
dk_include					(${LIBJPEG-TURBO})
dk_include					(${LIBJPEG-TURBO}/${OS})
dk_include					(${LIBJPEG-TURBO}/${OS}/${DEBUG_DIR})
dk_include					(${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR})
ANDROID_dk_include			(${LIBJPEG-TURBO}/${OS}/$(BUILD_TYPE)/jni)
if(VISUAL_STUDIO_IDE)
	ANDROID_dk_libDebug		(${LIBJPEG-TURBO}/${OS}/${DEBUG_DIR}/libturbojpeg.a)
	ANDROID_dk_libRelease	(${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR}/libturbojpeg.a)
	WIN_dk_libDebug			(${LIBJPEG-TURBO}/${OS}/${DEBUG_DIR}/turbojpeg-static.lib)
	WIN_dk_libRelease		(${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR}/turbojpeg-static.lib)
elseif(XCODE_IDE)
	dk_libDebug				(${LIBJPEG-TURBO}/${OS}/${DEBUG_DIR}/libturbojpeg.a)
	dk_libRelease			(${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR}/libturbojpeg.a)
else()
	dk_libDebug				(${LIBJPEG-TURBO}/${OS}/${DEBUG_DIR}/libturbojpeg.a)
	dk_libRelease			(${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR}/libturbojpeg.a)
endif()

### 3RDPARTY LINK ###
if(VISUAL_STUDIO_IDE)
	ANDROID_dk_set			(LIBJPEG-TURBO_CMAKE "-DCMAKE_C_FLAGS=-I${LIBJPEG-TURBO}/${OS}" "-DCMAKE_CXX_FLAGS=-I${LIBJPEG-TURBO}/${OS}" -DJPEG_INCLUDE_DIR=${LIBJPEG-TURBO} -DJPEG_INCLUDE_DIR2=${LIBJPEG-TURBO}/${OS} -DJPEG_LIBRARY=${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR}/libturbojpeg.a -DLIBJPEG_INCLUDE_DIR=${LIBJPEG-TURBO} -DLIBJPEG_LIBRARY=${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR}/libturbojpeg.a)
	#ANDROID_DEBUG_dk_set	(LIBJPEG-TURBO_CMAKE "-DCMAKE_C_FLAGS=-I${LIBJPEG-TURBO}/${OS}/Debug" "-DCMAKE_CXX_FLAGS=-I${LIBJPEG-TURBO}/${OS}/Debug" -DJPEG_INCLUDE_DIR=${LIBJPEG-TURBO} -DJPEG_INCLUDE_DIR2=${LIBJPEG-TURBO}/${OS}/${DEBUG_DIR} -DJPEG_LIBRARY=${LIBJPEG-TURBO}/${OS}/${DEBUG_DIR}/libturbojpeg.a -DLIBJPEG_INCLUDE_DIR=${LIBJPEG-TURBO} -DLIBJPEG_LIBRARY=${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR}/libturbojpeg.a)
	#ANDROID_RELEASE_dk_set	(LIBJPEG-TURBO_CMAKE "-DCMAKE_C_FLAGS=-I${LIBJPEG-TURBO}/${OS}/Release" "-DCMAKE_CXX_FLAGS=-I${LIBJPEG-TURBO}/${OS}/Release" -DJPEG_INCLUDE_DIR=${LIBJPEG-TURBO} -DJPEG_INCLUDE_DIR2=${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR} -DJPEG_LIBRARY=${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR}/libturbojpeg.a -DLIBJPEG_INCLUDE_DIR=${LIBJPEG-TURBO} -DLIBJPEG_LIBRARY=${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR}/libturbojpeg.a)
endif()
APPLE_dk_set				(LIBJPEG-TURBO_CMAKE "-DCMAKE_C_FLAGS=-I${LIBJPEG-TURBO}/${OS}" "-DCMAKE_CXX_FLAGS=-I${LIBJPEG-TURBO}/${OS}" -DJPEG_INCLUDE_DIR=${LIBJPEG-TURBO} -DJPEG_INCLUDE_DIR2=${LIBJPEG-TURBO}/${OS} -DJPEG_LIBRARY_RELEASE=${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR}/libturbojpeg.a -DLIBJPEG_INCLUDE_DIR=${LIBJPEG-TURBO} -DLIBJPEG_LIBRARY=${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR}/libturbojpeg.a)
EMSCRIPTEN_DEBUG_dk_set		(LIBJPEG-TURBO_CMAKE "-DCMAKE_C_FLAGS=-I${LIBJPEG-TURBO}/${OS}/Debug" "-DCMAKE_CXX_FLAGS=-I${LIBJPEG-TURBO}/${OS}/Debug" -DJPEG_INCLUDE_DIR=${LIBJPEG-TURBO} -DJPEG_INCLUDE_DIR2=${LIBJPEG-TURBO}/${OS}/${DEBUG_DIR} -DJPEG_LIBRARY=${LIBJPEG-TURBO}/${OS}/${DEBUG_DIR}/libturbojpeg.a -DLIBJPEG_INCLUDE_DIR=${LIBJPEG-TURBO} -DLIBJPEG_LIBRARY=${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR}/libturbojpeg.a)
EMSCRIPTEN_RELEASE_dk_set	(LIBJPEG-TURBO_CMAKE "-DCMAKE_C_FLAGS=-I${LIBJPEG-TURBO}/${OS}/Release" "-DCMAKE_CXX_FLAGS=-I${LIBJPEG-TURBO}/${OS}/Release" -DJPEG_INCLUDE_DIR=${LIBJPEG-TURBO} -DJPEG_INCLUDE_DIR2=${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR} -DJPEG_LIBRARY=${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR}/libturbojpeg.a -DLIBJPEG_INCLUDE_DIR=${LIBJPEG-TURBO} -DLIBJPEG_LIBRARY=${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR}/libturbojpeg.a)
LINUX_DEBUG_dk_set			(LIBJPEG-TURBO_CMAKE "-DCMAKE_C_FLAGS=-I${LIBJPEG-TURBO}/${OS}/Debug" "-DCMAKE_CXX_FLAGS=-I${LIBJPEG-TURBO}/${OS}/Debug" -DJPEG_INCLUDE_DIR=${LIBJPEG-TURBO} -DJPEG_INCLUDE_DIR2=${LIBJPEG-TURBO}/${OS}/${DEBUG_DIR} -DJPEG_LIBRARY=${LIBJPEG-TURBO}/${OS}/${DEBUG_DIR}/libturbojpeg.a -DLIBJPEG_INCLUDE_DIR=${LIBJPEG-TURBO} -DLIBJPEG_LIBRARY=${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR}/libturbojpeg.a)
LINUX_RELEASE_dk_set		(LIBJPEG-TURBO_CMAKE "-DCMAKE_C_FLAGS=-I${LIBJPEG-TURBO}/${OS}/Release" "-DCMAKE_CXX_FLAGS=-I${LIBJPEG-TURBO}/${OS}/Release" -DJPEG_INCLUDE_DIR=${LIBJPEG-TURBO} -DJPEG_INCLUDE_DIR2=${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR} -DJPEG_LIBRARY=${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR}/libturbojpeg.a -DLIBJPEG_INCLUDE_DIR=${LIBJPEG-TURBO} -DLIBJPEG_LIBRARY=${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR}/libturbojpeg.a)
RASPBERRY_DEBUG_dk_set		(LIBJPEG-TURBO_CMAKE "-DCMAKE_C_FLAGS=-I${LIBJPEG-TURBO}/${OS}/Debug" "-DCMAKE_CXX_FLAGS=-I${LIBJPEG-TURBO}/${OS}/Debug" -DJPEG_INCLUDE_DIR=${LIBJPEG-TURBO} -DJPEG_INCLUDE_DIR2=${LIBJPEG-TURBO}/${OS}/${DEBUG_DIR} -DJPEG_LIBRARY=${LIBJPEG-TURBO}/${OS}/${DEBUG_DIR}/libturbojpeg.a -DLIBJPEG_INCLUDE_DIR=${LIBJPEG-TURBO} -DLIBJPEG_LIBRARY=${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR}/libturbojpeg.a)
RASPBERRY_RELEASE_dk_set	(LIBJPEG-TURBO_CMAKE "-DCMAKE_C_FLAGS=-I${LIBJPEG-TURBO}/${OS}/Release" "-DCMAKE_CXX_FLAGS=-I${LIBJPEG-TURBO}/${OS}/Release" -DJPEG_INCLUDE_DIR=${LIBJPEG-TURBO} -DJPEG_INCLUDE_DIR2=${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR} -DJPEG_LIBRARY=${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR}/libturbojpeg.a -DLIBJPEG_INCLUDE_DIR=${LIBJPEG-TURBO} -DLIBJPEG_LIBRARY=${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR}/libturbojpeg.a)
WIN_dk_set					(LIBJPEG-TURBO_CMAKE "-DCMAKE_C_FLAGS=/I${LIBJPEG-TURBO}/${OS}" "-DCMAKE_CXX_FLAGS=/I${LIBJPEG-TURBO}/${OS}" -DJPEG_INCLUDE_DIR=${LIBJPEG-TURBO} -DJPEG_LIBRARY_RELEASE=${LIBJPEG-TURBO}/${OS}/${RELEASE_DIR}/turbojpeg-static.lib)


### GENERATE ##
dk_queueCommand(${DKCMAKE_BUILD} -DWITH_SIMD=OFF ${LIBJPEG-TURBO})


### COMPILE ###
dk_build(${LIBJPEG-TURBO} turbojpeg-static)
