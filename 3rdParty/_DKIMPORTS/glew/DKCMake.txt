# https://github.com/nigels-com/glew/releases/download/glew-2.2.0/glew-2.2.0.zip

### VERSION ###
DKSET(GLEW_VERSION 2.2.0)

DKSET(GLEW ${3RDPARTY}/glew-${GLEW_VERSION})
DKSET(GLEW_DIR ${GLEW}/build/cmake)
DKSET(GLEW_INCLUDE_DIR ${GLEW})
DKSET(GLEW_SHARED_LIBRARY_DEBUG ${GLEW}/${OS}/lib/Debug/libglew32d.lib)
DKSET(GLEW_SHARED_LIBRARY_RELEASE ${GLEW}/${OS}/lib/Release/libglew32.lib)
DKSET(GLEW_STATIC_LIBRARY_DEBUG ${GLEW}/${OS}/lib/Debug/glew32d.lib)
DKSET(GLEW_STATIC_LIBRARY_RELEASE ${GLEW}/${OS}/lib/Release/glew32.lib)


### INSTALL ###
DKINSTALL(https://versaweb.dl.sourceforge.net/project/glew/glew/${GLEW_VERSION}/glew-${GLEW_VERSION}.zip glew glew-${GLEW_VERSION})
DKCOPY(${GLEW}/build/cmake ${GLEW}/${OS}/CMakeFiles/Export/lib/cmake/glew TRUE)


### LINK ###
#DKDEFINE(GLEW_USE_STATIC_LIBS)
#DKDEFINE(GLEW_STATIC)
DKINCLUDE(${GLEW}/include)
WIN_DEBUG_LIB(${GLEW}/${OS}/lib/Debug/libglew32d.lib)
WIN_RELEASE_LIB(${GLEW}/${OS}/lib/Release/libglew32.lib)
##WIN_DEBUG_SHARED_LIB(${GLEW}/${OS}/bin/Debug/glew32d.lib)
##WIN_RELEASE_SHARED_LIB(${GLEW}/${OS}/bin/Release/glew32.lib)



##You need to link to other Windows libraries if you use GLFW as static library - gdi32.lib and user32.lib. Either add them in project properties for linker “Additional Dependencies” setting. Or put #pragma comment (lib, "gdi32.lib") in your .c/.cpp source.

# -DGLEW_STATIC=ON -DGLEW_USE_STATIC_LIBS=ON

### COMPILE ###
DKSETPATH(${GLEW}/${OS})
WIN32_COMMAND(${CMAKE_COMMAND} -G ${GENERATOR} -A Win32 "-DCMAKE_C_FLAGS=/DWIN32 /D_WINDOWS /W3 /nologo" "-DCMAKE_C_FLAGS_DEBUG=/MTd /Od /Ob0 /Zi /RTC1 /DDEBUG /D_DEBUG" "-DCMAKE_C_FLAGS_RELEASE=/MT /O2 /Ob2 /DNDEBUG" ${GLEW}/build/cmake)
WIN32_VS_DEBUG(glew-${GLEW_VERSION} glew.sln glew)
WIN32_VS_RELEASE(glew-${GLEW_VERSION} glew.sln glew)
WIN32_VS_DEBUG(glew-${GLEW_VERSION} glew.sln glew_s)
WIN32_VS_RELEASE(glew-${GLEW_VERSION} glew.sln glew_s)
DKCOPY(${GLEW}/${OS}/lib/Debug ${GLEW}/${OS}/CMakeFiles/Export/lib/ TRUE)
DKCOPY(${GLEW}/${OS}/lib/Release ${GLEW}/${OS}/CMakeFiles/Export/lib/ TRUE)
DKCOPY(${GLEW}/${OS}/bin/Debug ${GLEW}/${OS}/CMakeFiles/Export/bin/ TRUE)
DKCOPY(${GLEW}/${OS}/bin/Release ${GLEW}/${OS}/CMakeFiles/Export/bin/ TRUE)

DKSETPATH(${GLEW}/${OS})
WIN64_COMMAND(${CMAKE_COMMAND} -G ${GENERATOR} -A x64 "-DCMAKE_C_FLAGS=/DWIN32 /D_WINDOWS /W3 /nologo" "-DCMAKE_C_FLAGS_DEBUG=/MTd /Od /Ob0 /Zi /RTC1 /DDEBUG /D_DEBUG" "-DCMAKE_C_FLAGS_RELEASE=/MT /O2 /Ob2 /DNDEBUG" ${GLEW}/build/cmake)
WIN64_VS_DEBUG(glew-${GLEW_VERSION} glew.sln ALL_BUILD)
WIN64_VS_RELEASE(glew-${GLEW_VERSION} glew.sln ALL_BUILD)
