# https://github.com/vancegroup/freealut
#
# http://distro.ibiblio.org/rootlinux/rootlinux-ports/more/freealut/freealut-1.1.0.tar.gz

### DEPENDS ###
DKDEPEND(msinttypes)
DKDEPEND(openal)


### VERSION ###
DKSET(FREEALUT_VERSION 1.1.0)
DKSET(FREEALUT_NAME freealut-${FREEALUT_VERSION})
DKSET(FREEALUT_DL http://distro.ibiblio.org/rootlinux/rootlinux-ports/more/freealut/${FREEALUT_NAME}.tar.gz)
DKSET(FREEALUT ${3RDPARTY}/${FREEALUT_NAME})


### INSTALL ###
DKINSTALL(${FREEALUT_DL} freealut ${FREEALUT})


### LINK ###
DKDEFINE(AL_LIBTYPE_STATIC)
DKINCLUDE(${FREEALUT}/include)
WIN_DEBUG_DKLIB(${FREEALUT}/${OS}/${DEBUG_DIR}/alut_static.lib)
WIN_RELEASE_DKLIB(${FREEALUT}/${OS}/${RELEASE_DIR}/alut_static.lib)
APPLE_DEBUG_DKLIB(${FREEALUT}/${OS}/${DEBUG_DIR}/libalut_static.a)
APPLE_RELEASE_DKLIB(${FREEALUT}/${OS}/${RELEASE_DIR}/libalut_static.a)
LINUX_DEBUG_DKLIB(${FREEALUT}/${OS}/${DEBUG_DIR}/libalut_static.a)
LINUX_RELEASE_DKLIB(${FREEALUT}/${OS}/${RELEASE_DIR}/libalut_static.a)



### COMPILE ###
DKSETPATH(${CRYPTO}/${BUILD_DIR})
WIN_DKQCOMMAND(${DKCMAKE_BUILD} "-DCMAKE_C_FLAGS=/DAL_LIBTYPE_STATIC /I${OPENAL}/include/AL /I${MSINTTYPES}" ${OPENAL_WIN} ${FREEALUT})
#WIN_DKQCOMMAND(${DKCMAKE_BUILD} "-DCMAKE_C_FLAGS=/DWIN64 /D_WINDOWS /W3 /nologo /GR /EHsc /I${OPENAL}/include/AL /I${MSINTTYPES} /DAL_LIBTYPE_STATIC" ${OPENAL_WIN} ${FREEALUT})
WIN_VS(${FREEALUT_NAME} Alut.sln alut_static)


MAC64_DKQCOMMAND(${DKCMAKE_BUILD} ${OPENAL_MAC} ${FREEALUT})
MAC_XCODE(${FREEALUT_NAME} alut_static)


LINUX_DKQCOMMAND(${DKCMAKE_BUILD} ${OPENAL_LINUX} ${FREEALUT})
LINUX_DKQCOMMAND(make alut_static)
