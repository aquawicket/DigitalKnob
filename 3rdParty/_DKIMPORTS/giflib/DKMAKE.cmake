# http://giflib.sourceforge.net
# https://github.com/mirrorer/giflib
#
# https://sourceforge.net/projects/giflib/files/giflib-5.1.1.tar.gz

if(WIN_32)
	DKDEPEND(mingw32)
endif()
if(WIN_64)
	DKDEPEND(mingw64)
endif()
WIN_DKDEPEND(msys)
#WIN_DKDEPEND(msys2)


DKGITCLONE(https://github.com/mirrorer/giflib.git PATCH)

#DKIMPORT(https://github.com/mirrorer/giflib/archive/fa37672085ce4b3d62c51627ab3c8cf2dda8009a.zip PATCH)

#DKSET(GIFLIB_VERSION 5.1.1)
#DKSET(GIFLIB_DL https://sourceforge.net/projects/giflib/files/giflib-5.1.1.tar.gz)
#DKSET(GIFLIB_NAME giflib-${GIFLIB_VERSION})
#DKSET(GIFLIB ${3RDPARTY}/${GIFLIB_NAME})
#DKINSTALL(${GIFLIB_DL} giflib ${GIFLIB} PATCH)



### DKPLUGINS LINK ###
DKINCLUDE(${GIFLIB}/lib)
WIN_DEBUG_DKLIB(${GIFLIB}/${OS}/${DEBUG_DIR}/lib/.libs/libgif.a)
WIN_RELEASE_DKLIB(${GIFLIB}/${OS}/${RELEASE_DIR}/lib/.libs/libgif.a)
APPLE_DEBUG_DKLIB(${GIFLIB}/${OS}/${DEBUG_DIR}/lib/.libs/libgif.a)
APPLE_RELEASE_DKLIB(${GIFLIB}/${OS}/${RELEASE_DIR}/lib/.libs/libgif.a)
LINUX_DEBUG_DKLIB(${GIFLIB}/${OS}/${DEBUG_DIR}/lib/.libs/libgif.a)
LINUX_RELEASE_DKLIB(${GIFLIB}/${OS}/${RELEASE_DIR}/lib/.libs/libgif.a)
RASPBERRY_DEBUG_DKLIB(${GIFLIB}/${OS}/${DEBUG_DIR}/lib/.libs/libgif.a)
RASPBERRY_RELEASE_DKLIB(${GIFLIB}/${OS}/${RELEASE_DIR}/lib/.libs/libgif.a)
ANDROID_DEBUG_DKLIB(${GIFLIB}/${OS}/${DEBUG_DIR}/libgiflib.a)
ANDROID_RELEASE_DKLIB(${GIFLIB}/${OS}/${RELEASE_DIR}/libgiflib.a)



### 3RDPARTY LINK ###
WIN_DKSET(GIFLIB_CMAKE -DGIF_INCLUDE_DIR=${GIFLIB}/lib -DGIF_INCLUDE_DIR2=${GIFLIB}/${OS} -DGIF_LIBRARY=${GIFLIB}/${OS}/${RELEASE_DIR}/lib/.libs/libgif.a)
APPLE_DKSET(GIF_CMAKE -DGIF_INCLUDE_DIR=${GIFLIB}/lib -DGIF_INCLUDE_DIR2=${GIFLIB}/${OS} -DGIF_LIBRARY=${GIFLIB}/${OS}/${RELEASE_DIR}/lib/.libs/libgif.a)
LINUX_DKSET(GIF_CMAKE -DGIF_INCLUDE_DIR=${GIFLIB}/lib -DGIF_INCLUDE_DIR2=${GIFLIB}/${OS} -DGIF_LIBRARY=${GIFLIB}/${OS}/${RELEASE_DIR}/lib/.libs/libgif.a)
RASPBERRY_DKSET(GIF_CMAKE -DGIF_INCLUDE_DIR=${GIFLIB}/lib -DGIF_INCLUDE_DIR2=${GIFLIB}/${OS} -DGIF_LIBRARY=${GIFLIB}/${OS}/${RELEASE_DIR}/lib/.libs/libgif.a)
ANDROID_DKSET(GIF_CMAKE -DGIF_INCLUDE_DIR=${GIFLIB}/lib -DGIF_INCLUDE_DIR2=${GIFLIB}/${OS} -DGIF_LIBRARY=${GIFLIB}/${OS}/${RELEASE_DIR}/libgiflib.a)	


### COMPILE ###
WIN32_DEBUG_DKSETPATH(${GIFLIB}/${OS}/${DEBUG_DIR})
WIN32_DEBUG_MSYS(${DKCONFIGURE_BUILD})
WIN32_DEBUG_MSYS(make -C lib)
WIN32_RELEASE_DKSETPATH(${GIFLIB}/${OS}/${RELEASE_DIR})
WIN32_RELEASE_MSYS(${DKCONFIGURE_BUILD})
WIN32_RELEASE_MSYS(make -C lib)


WIN64_DEBUG_DKSETPATH(${GIFLIB}/${OS}/${DEBUG_DIR})
WIN64_DEBUG_MSYS(${DKCONFIGURE_BUILD})
WIN64_DEBUG_MSYS(make -C lib)
WIN64_RELEASE_DKSETPATH(${GIFLIB}/${OS}/${RELEASE_DIR})
WIN64_RELEASE_MSYS(${DKCONFIGURE_BUILD})
WIN64_RELEASE_MSYS(make -C lib)


MAC_DEBUG_DKSETPATH(${GIFLIB}/${OS}/${DEBUG_DIR})
MAC_DEBUG_DKQCOMMAND(${DKCONFIGURE_BUILD})
MAC_DEBUG_DKQCOMMAND(make -C lib)
MAC_RELEASE_DKSETPATH(${GIFLIB}/${OS}/${RELEASE_DIR})
MAC_RELEASE_DKQCOMMAND(${DKCONFIGURE_BUILD})
MAC_RELEASE_DKQCOMMAND(make -C lib)


IOS_DEBUG_DKSETPATH(${GIFLIB}/${OS}/${DEBUG_DIR})
IOS_DEBUG_DKQCOMMAND(${DKCONFIGURE_BUILD})
IOS_DEBUG_DKQCOMMAND(make -C lib)
IOS_RELEASE_DKSETPATH(${GIFLIB}/${OS}/${RELEASE_DIR})
IOS_RELEASE_DKQCOMMAND(${DKCONFIGURE_BUILD})
IOS_RELEASE_DKQCOMMAND(make -C lib)


IOSSIM_DEBUG_DKSETPATH(${GIFLIB}/${OS}/${DEBUG_DIR})
IOSSIM_DEBUG_DKQCOMMAND(${DKCONFIGURE_BUILD})
IOSSIM_DEBUG_DKQCOMMAND(make -C lib)
IOSSIM_RELEASE_DKSETPATH(${GIFLIB}/${OS}/${RELEASE_DIR})
IOSSIM_RELEASE_DKQCOMMAND(${DKCONFIGURE_BUILD})
IOSSIM_RELEASE_DKQCOMMAND(make -C lib)


LINUX_DEBUG_DKSETPATH(${GIFLIB}/${OS}/${DEBUG_DIR})
LINUX_DEBUG_DKQCOMMAND(${DKCONFIGURE_BUILD})
LINUX_DEBUG_DKQCOMMAND(make -C lib)
LINUX_RELEASE_DKSETPATH(${GIFLIB}/${OS}/${RELEASE_DIR})
LINUX_RELEASE_DKQCOMMAND(${DKCONFIGURE_BUILD})
LINUX_RELEASE_DKQCOMMAND(make -C lib)


RASPBERRY_DEBUG_DKSETPATH(${GIFLIB}/${OS}/${DEBUG_DIR})
RASPBERRY_DEBUG_DKQCOMMAND(${DKCONFIGURE_BUILD})
RASPBERRY_DEBUG_DKQCOMMAND(make -C lib)
RASPBERRY_RELEASE_DKSETPATH(${GIFLIB}/${OS}/${RELEASE_DIR})
RASPBERRY_RELEASE_DKQCOMMAND(${DKCONFIGURE_BUILD})
RASPBERRY_RELEASE_DKQCOMMAND(make -C lib)



DKSETPATH(${GIFLIB}/${BUILD_DIR})
ANDROID_DKQCOMMAND(${DKCMAKE_BUILD} ${GIFLIB})
ANDROID_VS(${GIFLIB_NAME} giflib.sln giflib)