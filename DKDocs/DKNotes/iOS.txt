https://cmake.org/cmake/help/latest/module/ExternalProject.html

https://www.infoq.com/articles/ios-9-bitcode/ 

https://gitlab.kitware.com/cmake/community/-/wikis/doc/cmake/CrossCompiling


Example compiler flags for Simulator64
---------------------------------------
CompileC /Users/aquamac/digitalknob/DK/DKPlugins/DKAssets/iossim64/DKAssets.build/Debug-iphonesimulator/DKAssets.build/Objects-normal/x86_64/DKAssets.o /Users/aquamac/digitalknob/DK/DKPlugins/DKAssets/DKAssets.cpp normal x86_64 objective-c++ com.apple.compilers.llvm.clang.1_0.compiler (in target 'DKAssets' from project 'DKAssets')
    cd /Users/aquamac/digitalknob/DK/DKPlugins/DKAssets
    export LANG\=en_US.US-ASCII
    /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -x objective-c++ -target x86_64-apple-ios13.0-simulator -fmessage-length\=0 -fdiagnostics-show-note-include-stack -fmacro-backtrace-limit\=0 -fobjc-arc -Wno-trigraphs -fpascal-strings -O0 -Wno-missing-field-initializers -Wno-missing-prototypes -Wno-return-type -Wno-implicit-atomic-properties -Wno-objc-interface-ivars -Wno-arc-repeated-use-of-weak -Wno-non-virtual-dtor -Wno-overloaded-virtual -Wno-exit-time-destructors -Wno-missing-braces -Wparentheses -Wswitch -Wno-unused-function -Wno-unused-label -Wno-unused-parameter -Wno-unused-variable -Wunused-value -Wno-empty-body -Wno-uninitialized -Wno-unknown-pragmas -Wno-shadow -Wno-four-char-constants -Wno-conversion -Wno-constant-conversion -Wno-int-conversion -Wno-bool-conversion -Wno-enum-conversion -Wno-float-conversion -Wno-non-literal-null-conversion -Wno-objc-literal-conversion -Wshorten-64-to-32 -Wno-newline-eof -Wno-selector -Wno-strict-selector-match -Wno-undeclared-selector -Wno-deprecated-implementations -Wno-c++11-extensions -DCMAKE_INTDIR\=\"Debug-iphonesimulator\" -DDEBUG -DRELEASE -DIOS -DUSE_DK -DLZMA_API_STATIC -DLIBARCHIVE_STATIC -DUSE_DKDuktape -DUSE_DKArchive -DUSE_DKAssets -DOBJC_OLD_DISPATCH_PROTOTYPES\=1 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator15.0.sdk -fasm-blocks -fstrict-aliasing -Wprotocol -Wdeprecated-declarations -Winvalid-offsetof -g -Wno-sign-conversion -Wno-infinite-recursion -Wno-move -Wno-comma -Wno-block-capture-autoreleasing -Wno-strict-prototypes -Wno-range-loop-analysis -Wno-semicolon-before-method-body -fobjc-abi-version\=2 -fobjc-legacy-dispatch -I/Users/aquamac/digitalknob/DK/DKPlugins/DKAssets/iossim64/Debug-iphonesimulator/include -I/Users/aquamac/digitalknob/DK/DKPlugins -I/Users/aquamac/digitalknob/DK/3rdParty/SDL2-2.0.16/include -I/Users/aquamac/digitalknob/DK/3rdParty/freetype-2.5.5/include -I/Users/aquamac/digitalknob/DK/3rdParty/freetype-2.5.5/iossim64/include/freetype2 -I/Users/aquamac/digitalknob/DK/3rdParty/SDL2_ttf-2.0.15 -I/Users/aquamac/digitalknob/DK/3rdParty/zlib-1.2.11 -I/Users/aquamac/digitalknob/DK/3rdParty/zlib-1.2.11/iossim64 -I/Users/aquamac/digitalknob/DK/3rdParty/xz-5.2.5/src/liblzma/api -I/Users/aquamac/digitalknob/DK/3rdParty/libarchive-3.5.1/libarchive -I/Users/aquamac/digitalknob/DK/3rdParty/libarchive-3.5.1/iossim64 -I/Users/aquamac/digitalknob/DK/DKPlugins/DKDuktape -I/Users/aquamac/digitalknob/DK/3rdParty/duktape-let-support/src -I/Users/aquamac/digitalknob/DK/DKPlugins/DKAssets/iossim64/DKAssets.build/Debug-iphonesimulator/DKAssets.build/DerivedSources-normal/x86_64 -I/Users/aquamac/digitalknob/DK/DKPlugins/DKAssets/iossim64/DKAssets.build/Debug-iphonesimulator/DKAssets.build/DerivedSources/x86_64 -I/Users/aquamac/digitalknob/DK/DKPlugins/DKAssets/iossim64/DKAssets.build/Debug-iphonesimulator/DKAssets.build/DerivedSources -F/Users/aquamac/digitalknob/DK/DKPlugins/DKAssets/iossim64/Debug-iphonesimulator -std\=c++17 -x objective-c++ -MMD -MT dependencies -MF /Users/aquamac/digitalknob/DK/DKPlugins/DKAssets/iossim64/DKAssets.build/Debug-iphonesimulator/DKAssets.build/Objects-normal/x86_64/DKAssets.d --serialize-diagnostics /Users/aquamac/digitalknob/DK/DKPlugins/DKAssets/iossim64/DKAssets.build/Debug-iphonesimulator/DKAssets.build/Objects-normal/x86_64/DKAssets.dia -c /Users/aquamac/digitalknob/DK/DKPlugins/DKAssets/DKAssets.cpp -o /Users/aquamac/digitalknob/DK/DKPlugins/DKAssets/iossim64/DKAssets.build/Debug-iphonesimulator/DKAssets.build/Objects-normal/x86_64/DKAssets.o


Example code of Linker Simulator64
----------------------------------
Libtool /Users/aquamac/digitalknob/DK/DKPlugins/DKWindow/iossim64/Debug-iphonesimulator/libDKWindow.a normal (in target 'DKWindow' from project 'DKWindow')
    cd /Users/aquamac/digitalknob/DK/DKPlugins/DKWindow
    export IPHONEOS_DEPLOYMENT_TARGET\=13.0
    /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/libtool -static -arch_only x86_64 -D -syslibroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator15.0.sdk -L/Users/aquamac/digitalknob/DK/DKPlugins/DKWindow/iossim64/Debug-iphonesimulator -filelist /Users/aquamac/digitalknob/DK/DKPlugins/DKWindow/iossim64/DKWindow.build/Debug-iphonesimulator/DKWindow.build/Objects-normal/x86_64/DKWindow.LinkFileList -dependency_info /Users/aquamac/digitalknob/DK/DKPlugins/DKWindow/iossim64/DKWindow.build/Debug-iphonesimulator/DKWindow.build/Objects-normal/x86_64/DKWindow_libtool_dependency_info.dat -o /Users/aquamac/digitalknob/DK/DKPlugins/DKWindow/iossim64/Debug-iphonesimulator/libDKWindow.a
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/libtool: file: /Users/aquamac/digitalknob/DK/DKPlugins/DKWindow/iossim64/DKWindow.build/Debug-iphonesimulator/DKWindow.build/Objects-normal/x86_64/DKWindowV8.o has no symbols



Example App linking
--------------------
vLd /Users/aquamac/digitalknob/DKTestApps/DKApps/DKSDL_Test/iossim64/Release-iphonesimulator/DKSDL_Test.app/DKSDL_Test normal (in target 'DKSDL_Test' from project 'DKSDL_Test')
    cd /Users/aquamac/digitalknob/DK
    /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang++ -target x86_64-apple-ios13.0-simulator -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator15.0.sdk -L/Users/aquamac/digitalknob/DKTestApps/DKApps/DKSDL_Test/iossim64/Release-iphonesimulator -F/Users/aquamac/digitalknob/DKTestApps/DKApps/DKSDL_Test/iossim64/Release-iphonesimulator -filelist /Users/aquamac/digitalknob/DKTestApps/DKApps/DKSDL_Test/iossim64/DKSDL_Test.build/Release-iphonesimulator/DKSDL_Test.build/Objects-normal/x86_64/DKSDL_Test.LinkFileList -dead_strip -Xlinker -objc_abi_version -Xlinker 2 -fobjc-arc -fobjc-link-runtime -Wl,-search_paths_first -Wl,-headerpad_max_install_names /Users/aquamac/digitalknob/DK/3rdParty/SDL2-2.0.16/iossim64/Release-iphonesimulator/libSDL2.a /Users/aquamac/digitalknob/DK/3rdParty/freetype-2.5.5/iossim64/Release-iphonesimulator/libfreetype.a /Users/aquamac/digitalknob/DK/3rdParty/SDL2_ttf-2.0.15/iossim64/lib/Release/SDL_ttf.a /Users/aquamac/digitalknob/DK/DKPlugins/DK/iossim64/Release-iphonesimulator/libDK.a /Users/aquamac/digitalknob/DK/3rdParty/zlib-1.2.11/iossim64/Release-iphonesimulator/libz.a /Users/aquamac/digitalknob/DK/3rdParty/xz-5.2.5/iossim64/Release-iphonesimulator/src/liblzma/.libs/liblzma.a /Users/aquamac/digitalknob/DK/3rdParty/cryptopp600/iossim64/cryptopp.build/Release/cryptopp-object.build/libcryptopp-object.a /Users/aquamac/digitalknob/DK/3rdParty/libarchive-3.5.1/iossim64/libarchive/Release-iphonesimulator/libarchive.a /Users/aquamac/digitalknob/DK/DKPlugins/DKDuktape/iossim64/Release-iphonesimulator/libDKDuktape.a /Users/aquamac/digitalknob/DK/DKPlugins/DKArchive/iossim64/Release-iphonesimulator/libDKArchive.a /Users/aquamac/digitalknob/DK/DKPlugins/DKAssets/iossim64/Release-iphonesimulator/libDKAssets.a /Users/aquamac/digitalknob/DK/DKPlugins/DKFile/iossim64/Release-iphonesimulator/libDKFile.a /Users/aquamac/digitalknob/DK/DKPlugins/DKWindow/iossim64/Release-iphonesimulator/libDKWindow.a /Users/aquamac/digitalknob/DK/DKPlugins/DKSDLWindow/iossim64/Release-iphonesimulator/libDKSDLWindow.a /Users/aquamac/digitalknob/DK/DKPlugins/DKSDLText/iossim64/Release-iphonesimulator/libDKSDLText.a -framework AudioToolbox -framework CoreGraphics -framework Foundation -framework ImageIO -framework OpenGLES -framework UIKit -Xlinker -sectcreate -Xlinker __TEXT -Xlinker __entitlements -Xlinker /Users/aquamac/digitalknob/DKTestApps/DKApps/DKSDL_Test/iossim64/DKSDL_Test.build/Release-iphonesimulator/DKSDL_Test.build/DKSDL_Test.app-Simulated.xcent -Xlinker -no_adhoc_codesign -Xlinker -dependency_info -Xlinker /Users/aquamac/digitalknob/DKTestApps/DKApps/DKSDL_Test/iossim64/DKSDL_Test.build/Release-iphonesimulator/DKSDL_Test.build/Objects-normal/x86_64/DKSDL_Test_dependency_info.dat -o /Users/aquamac/digitalknob/DKTestApps/DKApps/DKSDL_Test/iossim64/Release-iphonesimulator/DKSDL_Test.app/DKSDL_Test
ld: in /Users/aquamac/digitalknob/DK/3rdParty/xz-5.2.5/iossim64/Release-iphonesimulator/src/liblzma/.libs/liblzma.a(liblzma_la-alone_decoder.o), building for iOS Simulator, but linking in object file built for macOS, for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)

